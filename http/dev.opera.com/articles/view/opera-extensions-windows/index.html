<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Opera extensions: windows - Dev.Opera</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="L7q_7GF5c9d7ZAUYdfaTiRaB6sTAGv_cRz3nq5DsabM">
    <meta name="description" content="Dev.Opera is the ultimate source of distilled knowledge for web developers, covering the latest open web technologies and techniques including HTML5, CSS3, JavaScript, SVG, optimizing content for mobiles, tablets and TVs, and creating add-ons such as extensions and themes for the Opera browser.">
    <meta name="keywords" content="Opera, web, HTML5, HTML, CSS3, CSS, JavaScript, SVG, Geolocation, Widgets, Extensions, Unite, Mini, Mobile, web development, design, web design, tutorials, articles, examples, demos, web standards, open standards, open web, video, audio, getusermedia, accessibility, wai-aria, transitions, translations, microformats, microdata, dataset, media queries, viewport, @viewport, transparency, opacity, gradients, box-shadow, text-shadow, web fonts, appcache, websql, local storage, ajax, json, games, userjs, webgl, tv, tablet, emulator, skinning, themes, skins, drasgonfly, mathml, web sockets, operawatir">
    <link rel="icon" href="../../../../static.myopera.com/dev/img/speed_dial-icon.png" type="image/png">
    <link rel="apple-touch-icon" href="../../../../static.myopera.com/dev/img/touch-icon.png" type="image/png">
    <link rel="shortcut icon" href="../../../favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="../../../../static.myopera.com/dev/css/devopera.css" type="text/css">
    <!--[if IE 6]><link rel="stylesheet" href="/css/browsers/ie6.css" type="text/css"><![endif]-->
    <!--[if IE 7]><link rel="stylesheet" href="/css/browsers/ie7.css" type="text/css"><![endif]-->
    <!--[if IE 8]><link rel="stylesheet" href="/css/browsers/ie8.css" type="text/css"><![endif]-->
    <!--[if lte IE 8]><script type="text/javascript" src="/js/ie.js"></script><![endif]-->
    <link rel="stylesheet" href="../../../../static.myopera.com/dev/css/articles.css">
    <link rel="stylesheet" media="print" href="../../../../static.myopera.com/dev/css/print.css">
    <link rel="stylesheet" href="../../../../static.myopera.com/dev/css/github.css">
    <link rel="alternate" type="application/rss+xml" title="Recent articles - RSS 2.0 Feed" href="../../../feeds/rss/articles">
    <link rel="alternate" type="application/atom+xml" title="Recent articles - Atom 1.0 Feed" href="../../../feeds/atom/articles">
    <link rel="alternate" type="application/rss+xml" title="Recent articles in Add-ons - RSS 2.0 Feed" href="../../../feeds/rss/articles/addons">
    <link rel="alternate" type="application/atom+xml" title="Recent articles in Add-ons - Atom 1.0 Feed" href="../../../feeds/atom/articles/addons">
    <link rel="alternate" type="application/rss+xml" title="Recent articles in Opera 11-12 extensions - RSS 2.0 Feed" href="../../../feeds/rss/articles/addons/extensions">
    <link rel="alternate" type="application/atom+xml" title="Recent articles in Opera 11-12 extensions - Atom 1.0 Feed" href="../../../feeds/atom/articles/addons/extensions">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="../../../../static.myopera.com/dev/js/menu.js"></script>
    <noscript>
      <style type="text/css">
.collection ul li ul {
    display: inherit !important;
}
      </style>
    </noscript>
    <script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-4118503-4']);
_gaq.push(['_gat._anonymizeIp']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
    </script>

  </head>
  <body class="extensions">
    <header role="banner"  class="article-view" >
      <div>
        <a href="../../../index.html" id="logo">Dev.Opera</a>
        <form action="http://dev.opera.com/search" role="search">
          <fieldset>
            <label class="hidden" for="q">Search</label>
            <input type="text" name="q" maxlength="256" value="" id="q" required>
            <input type="submit" id="q-submit" value="Search" title="Search">
          </fieldset>
        </form>
        <p id="login">
          <a href="../../../../../https/dev.opera.com/login/index.html" accesskey="L" title="Log in">Log in</a>
        </p>
        <nav id="nav">
          <ul role="menu">

            <li role="menuitem" >
              <a href="../../../web.html">Web</a>
            </li>
            <li role="menuitem"  class="selected">
              <a href="../../../addons.1.html">Add-ons</a>
            </li>
            <li role="menuitem" >
              <a href="../../../mobile.html">Mobile</a>
            </li>
            <li role="menuitem" >
              <a href="../../../tv.html">TV</a>
            </li>
            <li role="menuitem" >
              <a href="../../../labs.html">Labs</a>
            </li>
          </ul>
        </nav>
      </div>
      <nav id="subnav">
        <ul role="menu">
            <li role="menuitem"  class="selected">
              <a href="../../../addons/extensions/index.html">Opera 11-12 extensions</a>
            </li>
            <li role="menuitem" >
              <a href="http://dev.opera.com/extension-docs/">Opera 15+ extensions</a>
            </li>
            <li role="menuitem" >
              <a href="../../../addons/themes.html">Themes</a>
            </li>
        </ul>
      </nav>
    </header>
<section id="content" role="main" class="asideleft">
  <section class="main">
    <article lang="en">
      <h1>Opera extensions: windows</h1>
      <p class="print author">By Zi Bin Cheah</p>

      <p class="note" style="color:red;"><strong>IMPORTANT</strong>: Please note that the the Opera extensions Windows functionality is currently incomplete, and undergoing a serious overhaul. At the moment, we would advise against using it - wait until we have completed the update, or use it at your own risk.</p>

<h2>Introduction</h2>

<p>Opera extensions give you the power to add additional functionality right into the Opera desktop browser using web standards such as HTML, JavaScript and CSS. In this article, we&#39;ll look at how to use the extensions APIs to manipulate Opera desktop&#39;s windows system. This is done using the <code>Windows</code> object.</p>

<p class="note">If you need to get grounding in the basics of Opera extensions before carrying on, the <a href="../opera-extensions-hello-world/index.html">Saying Hello World</a> article is a good place to start.</p>

<h3>Contents</h3>

<ul>
  <li><a href="index.html#create">Creating Windows</a></li>
  <li><a href="index.html#windows">Events in Windows</a></li>
  <li><a href="index.html#listener">eventListeners in Windows</a></li>
  <li><a href="index.html#conclusion">Conclusion</a></li>
  <li><a href="index.html#api">API reference</a></li>
</ul>

<h2 id="create">Creating Windows</h2>

<p>As always, we use an event listener to listen out, and launch a function when an event is triggered, in this case once the window finishes loading. We then check if the function <code>opera.extension.windows.create</code> exists before calling it:</p>

<pre><code>window.addEventListener( &quot;load&quot;, function(){
  if( opera.extension.windows.create )
  {
  opera.extension.windows.create();
  } else {
    // Couldn&#39;t find an opera.extension.windows.create object.
  }
}, false);</code></pre>

<h2 id="windows">Events in Windows</h2>

<p>Events are fired when an interaction occurs on the <code>Windows</code> object. For example, if the Windows is in focus, an <code>onfocus</code> event is fired. In Opera extensions, there are four to play with:</p>

<ul>
  <li><code>onfocus</code></li>
  <li><code>onclose</code></li>
  <li><code>oncreate</code></li>
  <li><code>onblur</code></li>
</ul>

<p>As the events are fired, we use the <code>opera.postError</code> method to handle creating appropriate messages. You can read the <code>opera.postError</code> dumps in the Error Console (Tools &gt; Advanced &gt; Error Console).
</p>
<pre><code>
window.addEventListener( &quot;load&quot;, function(){
  if( opera.extension.windows )
  {
     opera.extension.windows.onfocus = function( event ){
		opera.postError(&quot;windows is focused&quot;);
    }
   opera.extension.windows.onclose = function( event ){
		opera.postError(&quot;windows is closed&quot;);
    }
      opera.extension.windows.oncreate = function( event ){
		opera.postError(&quot;windows is create&quot;);
    }
     opera.extension.windows.onblur = function( event ){
		opera.postError(&quot;windows loses focus&quot;);
    }

   } else {
    // couldn&#39;t find an opera.extension.windows object.
  }
}, false);</code></pre>

<h2 id="listener">eventListeners in Windows</h2>

<p>Next let&#39;s bring our attention to event listeners. Similar to a standard JavaScript event listener, you give an Opera extension event listener three arguments: the event handler, the function to fire and a boolean value. The allowed event types for an Opera extension event listener are as follows:</p>

<ul>
  <li><code>focus</code></li>
  <li><code>close</code></li>
  <li><code>create</code></li>
  <li><code>update</code></li>
  <li><code>blur</code></li>
</ul>

<p>In the code snippet below, we register a <code>focus</code> event in an <code>addEventListener</code> function. The last argument determines the phase in which the event handler should be fired. It should be a boolean value and we will keep it <code>false</code> for now.</p>

<pre><code>opera.extension.windows.addEventListener( &quot;focus&quot;, function(){// do something}, false)</code></pre>

<p>The difference between <code>addEventListener</code> and <code>onevent</code> lies in the difference between how the two event models work. For example this snippet will fire only the last line, since it has replaced the first line:</p>

<pre><code>opera.extension.windows.onfocus = function(){ // do something };
opera.extension.windows.onfocus = function(){ // do something };</code></pre>

<p>This second snippet will fire both, since they are both registered. </p>

<pre><code>opera.extension.windows.addEventListener( &quot;focus&quot;, function(){ // do something }, false);
opera.extension.windows.addEventListener( &quot;focus&quot;, function(){ // do something }, false);</code></pre>

<h2 id="conclusion">Conclusion</h2>

<p>In this article we discussed how to manipulate Windows in the Opera desktop browser using the <a href="http://www.opera.com/docs/apis/extensions/windowsandtabsguide/"><code>windows</code> object</a>. For more information, consult the <a href="http://www.opera.com/docs/apis/extensions/">Opera extensions API reference</a>.</p> Next, you can consider playing with <a href="../opera-extensions-buttons-badges-and-popups/index.html">buttons, badges and popups in Opera Extensions</a>.

<h2 id="api">API reference</h2>

<p>
object <a href="http://www.opera.com/docs/apis/extensions/windowsandtabsguide/">opera.extension.windows</a>
</p>


      <section id="author-info">
        <h1><a href="../../../author/zibin.html" rel="author">Zi Bin Cheah</a></h1>
        <a href="../../../author/zibin.html" rel="author"><img src="../../../../../https/static.myopera.com/avatars/pool1/b2/3f7/b618249c2217ba63c74962f085feaa93ad5.jpg" alt=""/></a>
        <p>Web Evangelist in the Developer Relations Team at Opera Software ASA.</p>
        <br class="clear" />
      </section>
      <p id="license" class="info">This article is licensed under a <a href="http://creativecommons.org/licenses/by/3.0/" rel="license">Creative Commons Attribution 3.0 Unported</a> license.</p>

    </article>
<section id="comments">
  <h2>Comments</h2>
      <p class="info">The forum archive of this article is still available on <a href="http://my.opera.com/community/forums/topic.dml?id=776332">My Opera</a>.</p>
  <ul>
    <li id="comment-84268472">
      <a href="../../../author/D1sasterp1ece.html"><img src="../../../../../https/static.myopera.com/avatars/pool1/4d/d0c/a87da6a1d137a7e5fe0f93215704d3c079d.png" alt="photo" class="avatar"/></a>
      <p class="commenter"><a href="../../../author/D1sasterp1ece.html">D1sasterp1ece</a></p>
      <p class="commentdate">Wednesday, March 7, 2012</p>
      <section class="commentcontent"><span class="bubble-arrow"></span>Does JS need to be packed as an extension for that I can access tabs &amp; window manipulation methods, or can the code be just run as a userscript?</section>
    </li>
  </ul>
No new comments accepted.
</section>

  </section>

  <aside>
    <section class="info">
      <p class="author"><strong>Author</strong> <a href="../../../author/zibin.html" rel="author">Zi Bin Cheah</a></p>
      <p>
        <strong>Date</strong>
        Thursday, October 21, 2010
      </p>

      <p class="tags"><strong>Tags</strong></p>
      <ul class="tags">
        <li><a href="../../tags/API.html" rel="tag">API</a></li>
        <li><a href="../../tags/extensions.html" rel="tag">extensions</a></li>
        <li><a href="../../tags/javascript.html" rel="tag">javascript</a></li>
        <li><a href="../../tags/opera&#32;extensions.html" rel="tag">opera extensions</a></li>
        <li><a href="../../tags/Windows.html" rel="tag">Windows</a></li>
      </ul>
      <p><strong>Languages</strong>
        <a href="../opera-extensions-windows-ja/index.html">Japanese</a>
      </p>
    </section>
  </aside>




</section>
<script type="text/javascript" src="../../../../static.myopera.com/dev/js/highlight.pack.js"></script>
<script type="text/javascript">hljs.initHighlightingOnLoad();</script>

    <footer>
      <section role="contentinfo">
        <ul>
          <li><a href="../../../help.html">Help/<abbr>FAQ</abbr></a>
          <li><a href="http://my.opera.com/community/terms-of-service/?utm_source=devopera&amp;utm_medium=footer&amp;utm_campaign=devlinks">Terms of service</a>
          <li><a href="../../../privacy.html">Privacy</a>
        </ul>
      </section>
    </footer>
  </body>
</html>

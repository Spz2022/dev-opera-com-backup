<!DOCTYPE html>
<html lang="en">
  <head>
    <title>31: CSS background images - Dev.Opera</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="L7q_7GF5c9d7ZAUYdfaTiRaB6sTAGv_cRz3nq5DsabM">
    <meta name="description" content="Dev.Opera is the ultimate source of distilled knowledge for web developers, covering the latest open web technologies and techniques including HTML5, CSS3, JavaScript, SVG, optimizing content for mobiles, tablets and TVs, and creating add-ons such as extensions and themes for the Opera browser.">
    <meta name="keywords" content="Opera, web, HTML5, HTML, CSS3, CSS, JavaScript, SVG, Geolocation, Widgets, Extensions, Unite, Mini, Mobile, web development, design, web design, tutorials, articles, examples, demos, web standards, open standards, open web, video, audio, getusermedia, accessibility, wai-aria, transitions, translations, microformats, microdata, dataset, media queries, viewport, @viewport, transparency, opacity, gradients, box-shadow, text-shadow, web fonts, appcache, websql, local storage, ajax, json, games, userjs, webgl, tv, tablet, emulator, skinning, themes, skins, drasgonfly, mathml, web sockets, operawatir">
    <link rel="icon" href="../../../../static.myopera.com/dev/img/speed_dial-icon.png" type="image/png">
    <link rel="apple-touch-icon" href="../../../../static.myopera.com/dev/img/touch-icon.png" type="image/png">
    <link rel="shortcut icon" href="../../../favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="../../../../static.myopera.com/dev/css/devopera.css" type="text/css">
    <!--[if IE 6]><link rel="stylesheet" href="/css/browsers/ie6.css" type="text/css"><![endif]-->
    <!--[if IE 7]><link rel="stylesheet" href="/css/browsers/ie7.css" type="text/css"><![endif]-->
    <!--[if IE 8]><link rel="stylesheet" href="/css/browsers/ie8.css" type="text/css"><![endif]-->
    <!--[if lte IE 8]><script type="text/javascript" src="/js/ie.js"></script><![endif]-->
    <link rel="stylesheet" href="../../../../static.myopera.com/dev/css/articles.css">
    <link rel="stylesheet" media="print" href="../../../../static.myopera.com/dev/css/print.css">
    <link rel="stylesheet" href="../../../../static.myopera.com/dev/css/github.css">
    <link rel="alternate" type="application/rss+xml" title="Recent articles - RSS 2.0 Feed" href="../../../feeds/rss/articles">
    <link rel="alternate" type="application/atom+xml" title="Recent articles - Atom 1.0 Feed" href="../../../feeds/atom/articles">
    <link rel="alternate" type="application/rss+xml" title="Recent articles in Web - RSS 2.0 Feed" href="../../../feeds/rss/articles/web">
    <link rel="alternate" type="application/atom+xml" title="Recent articles in Web - Atom 1.0 Feed" href="../../../feeds/atom/articles/web">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="../../../../static.myopera.com/dev/js/menu.js"></script>
    <noscript>
      <style type="text/css">
.collection ul li ul {
    display: inherit !important;
}
      </style>
    </noscript>
    <script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-4118503-4']);
_gaq.push(['_gat._anonymizeIp']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
    </script>

  </head>
  <body class="web">
    <header role="banner"  class="article-view" >
      <div>
        <a href="../../../index.html" id="logo">Dev.Opera</a>
        <form action="http://dev.opera.com/search" role="search">
          <fieldset>
            <label class="hidden" for="q">Search</label>
            <input type="text" name="q" maxlength="256" value="" id="q" required>
            <input type="submit" id="q-submit" value="Search" title="Search">
          </fieldset>
        </form>
        <p id="login">
          <a href="../../../../../https/dev.opera.com/login/index.html" accesskey="L" title="Log in">Log in</a>
        </p>
        <nav id="nav">
          <ul role="menu">

            <li role="menuitem"  class="selected">
              <a href="../../../web.html">Web</a>
            </li>
            <li role="menuitem" >
              <a href="../../../addons.1.html">Add-ons</a>
            </li>
            <li role="menuitem" >
              <a href="../../../mobile.html">Mobile</a>
            </li>
            <li role="menuitem" >
              <a href="../../../tv.html">TV</a>
            </li>
            <li role="menuitem" >
              <a href="../../../labs.html">Labs</a>
            </li>
          </ul>
        </nav>
      </div>
    </header>
<section id="content" role="main" class="asideleft">
  <section class="main">
    <article lang="en">
      <h1>31: CSS background images</h1>
      <p class="print author">By Nicole Sullivan</p>

      <div class="note">
<h2 style="color:red;font-weight:bold;padding-top:0;margin-top:0;">11th October 2012: Material moved to <a href="http://www.webplatform.org">webplatform.org</a></h2>

<p style="padding-bottom: 20px;">The Opera web standards curriculum has now been moved to the <a href="http://docs.webplatform.org/wiki/Main_Page">docs section of the W3C webplatform.org site</a>. Go there to find updated versions of these docs, and much more besides!</p>

<h2 style="color:red;font-weight:bold;padding-top:0;margin-top:0;">12th April 2012: This article is obsolete</h2>

<p>The web standards curriculum has been donated to the <a href="http://www.w3.org/community/webed/">W3C web education community group</a>, to become part of a much bigger educational resource. It is constantly being updated so that it remains current with modern web design practices and technologies. To find the most up-to-date web standards curriculum, visit the <a href="http://www.w3.org/community/webed/wiki/Main_Page">web education community group Wiki</a>. Please make changes to this Wiki yourself, or suggest changes to <a href="mailto:cmills@opera.com">Chris Mills</a>, who is also the chair of the web education community group.</p>
</div>

<ul class="seriesNav">
<li class="prev"><a href="../30-the-css-layout-model-boxes-border/index.html" rel="prev" title="link to the previous article in the series">Previous article—The CSS layout model—boxes, borders, margins, padding</a></li>
<li class="next"><a href="../32-styling-lists-and-links/index.html" rel="next" title="link to the next article in the series">Next article—Styling lists and links</a></li>
<li><a href="../1-introduction-to-the-web-standards-cur/index.html#toc" rel="index">Table of contents</a></li>
</ul>

<h2>Introduction</h2>
	
	<p>Admit it! Since the first article in this course, you’ve been itching to learn how to make your site look fierce and fabulous. Maybe you even skipped ahead to this section?</p>
		
	<p>Background images are all about making your site look sexy, but you might be surprised how closely they build upon the fundamental concepts you have already learned.</p>
	
	<p>As you already learned earlier on in the course, one of the most important changes that comes with CSS was the ability to separate <em>presentation</em>, or the way things look, from <em>semantics</em>, or what things mean.  The CSS background image is among the most important tools you have at your disposal, because it lets you apply decorative images to particular parts of your HTML without adding any extra weight to your HTML. Previously, authors (that’s you!) were forced to fill their code with <code>img</code> tags. </p>
	
	<p>CSS and in particular the <code>background</code> property keep your HTML free from presentational clutter. Redesigns and other transitions, in the life of sites built with modern methods, can then be completed much more smoothly. You’ll be able to update your entire site by changing only the style sheet, rather than recoding every HTML page. Depending on the size of your site, this can be a substantial saving.</p>
	
	<p>In this article I’ll show the basics of how CSS background images work, including applying a background image via CSS, adjusting its placement, tiling it vertically or horizontally and combining background images using <a href="http://www.alistapart.com/articles/sprites/">CSS Sprites</a> to improve <a href="http://developer.yahoo.com/performance/index.html">site performance</a>.</p>
	
	<p>The article structure is as follows:</p>
	
	<ul>
  <li><a href="index.html#howdoesitwork">How does it work?</a>
    <ul>
      <li><a href="index.html#backgroundproperties">Background properties</a></li>
    </ul>
  </li>
  <li><a href="index.html#buildingalert">Building an alert message</a>
    <ul>
      <li><a href="index.html#thecode">The code</a>
       <ul>
         <li><a href="index.html#createselector">Creating the CSS hook, or selector</a></li>
         <li><a href="index.html#addbackgroundcolor">Adding the background colour</a></li>
         <li><a href="index.html#applybackgroundimage">Apply the background image</a></li>
         <li><a href="index.html#controllingrepeat">Controlling background repeat</a></li>
         <li><a href="index.html#attachment">Attachment</a></li>
         <li><a href="index.html#positioningtheimage">Positioning the image</a></li>
         <li><a href="index.html#usingshorthand">Using shorthand to pull the whole thing together like a pro</a></li>
       </ul>
      </li>
      <li><a href="index.html#experimenting">Experimenting with code</a></li>
      <li><a href="index.html#qualitytesting">testing for quality</a></li>
    </ul>
  </li>
  
  <li><a href="index.html#sprites">Sprites</a>
    <ul>
      <li><a href="index.html#complexspriteexample">A complex sprite and background image example</a>
        <ul>
          <li><a href="index.html#creatingthesprite">Creating the sprite</a></li>
        </ul>
      </li>
    </ul>
  </li>
  
  <li><a href="index.html#summary">Summary</a>
    <ul>
    <li><a href="index.html#imagecredits">Image credits</a></li>
    </ul>
  </li>
  <li><a href="index.html#exercises">Exercise questions</a></li>
  <li><a href="index.html#furtherreading">Further reading</a></li>
</ul>
	
	<h2 id="howdoesitwork">How does it work?</h2>
	
	<p>The CSS for backgrounds is split into several different properties.  Using these properties, such as <code>position</code> and <code>color</code>, you can begin to control the look and feel of your page.  In this article, you will go through CSS background images in detail,  building an  alert message as an example, step by step. </p><p>First,  let’s learn a little more about the different properties at our disposal.</p>
	
	<h3 id="backgroundproperties">Background Properties</h3>
	<table border="1">
		<tr>
			<th scope="col">Property</th>
			<th scope="col">Definition</th>
			<th scope="col">Description</th>
		</tr>
		<tr>
			<td><code>background-color</code></td>
			<td>Sets the background colour of the HTML element.</td>
			<td><p>There are several ways to indicate <code>background-color</code>, including RGB values and keywords. Most people use hexadecimal notation, a pound/hash symbol (#) followed by six characters. The first pair indicates the red levels, and the second and third indicate the green and blue levels respectively—<code>#RRGGBB</code>. </p>
			<p>Many colour picker tools  will help you find the hexadecimal notation of a given colour. Pure red, for example would be #FF0000.</p>
			<p><img src="../../../../devfiles.myopera.com/articles/481/color_picker.jpg" alt="Photoshop colour picker will give you the hex value of your colour" width="403" height="384" /></p>
			<p>Valid values include a <code>color</code> value, <code>transparent</code>, or <code>inherit</code>.</p></td>
		</tr>
		<tr>
			<td><code>image</code></td>
			<td>Indicates the path<em> or URL </em> of the background image.</td>
			<td><p>Set the <code>background-image</code> by showing the browser where to find the image, using the URL. For example; <code>url(alert.png)</code>. Note that the path is prefaced with they keyword <code>url</code> and wrapped in parenthesis. This syntax is important to the browser understanding that you mean to indicate a location.</p>
			<p>Valid values include a <code>URL</code>, <code>none</code>, or <code>inherit</code>.</p></td>
		</tr>
		<tr>
			<td><code>repeat</code></td>
			<td>Indicates in which direction the background image should be tiled.</td>
			<td><p>Images can be tiled vertically, horizontally, or both, to fill the entire width or height of an HTML element. Use <code>background-repeat</code> to instruct the browser to repeat a background image.</p>
			<p>Valid values include <code>repeat</code>, <code>repeat-x</code>, <code>repeat-y</code>, and <code>no-repeat</code>.</p></td>
		</tr>
		<tr>
			<td><code>attachment</code></td>
			<td>Sets the behaviour of the background image when the user scrolls.</td>
			<td><p>Images can either scroll with their content, or stay fixed in place in the view screen. Valid values include <code>scroll</code>, <code>fixed</code>, and <code>inherit</code>.</p>
			</td>
		</tr>
		<tr>
			<td><code>position</code></td>
			<td>Tells the browser where to position the background image.</td>
			<td><p>Images can be displayed anywhere within the borders of the HTML element on which they are applied. Use <code>background-position</code> to precisely place your images for visual effect and layering.</p>
			<p>There are many useful ways to indicate background position, keywords and numeric values. Keywords (such as <code>top</code> and <code>bottom</code>) are very useful and easy to read. Pixel values are very precise, but don’t adapt to changing heights and widths. Negative pixel values are useful when using CSS sprites, as you’ll find out later.</p>
			<p>When percentages and pixels are used, the starting point is always the top left corner of the HTML element, although the way image positioning works with pixels and percentages is rather different. Pixels always move the image a set number of pixels towards the bottom and right of the containing box (or towards the top and left if they are negative values), regardless of the size of the image and the containing box. Percentages on the other hand move the image a percentage of the difference between the containing box size, and the image size. If the image and the containing box are the same size, percentages won’t move the image at all.</p>
			<p>Valid values include <code>length</code> (generally in pixels), <code>percentage</code> (of the width of the element), and the keywords <code>top</code>, <code>right</code>, <code>bottom</code>, <code>left</code>, and <code>center</code>. Note that center can be used to indicate both vertical and horizontal center. Note also that you can mix percentages and pixels in rules, but not keywords and pixels or keywords and percentages.</p></td>
		</tr>
		<tr>
			<td><code>background</code></td>
			<td>The shorthand property that can be used to describe all the other properties in one line.</td>
			<td><p>Shorthand properties are very nifty indeed. Most developers use them to keep the CSS as lean as possible and group related properties. You can write a general rule using shorthand, and then override it as needed with specific properties. </p>
				<p>The properties should always be indicated in the same order, to allow browsers to easily interpret the intended styles:</p>
				<ol>
					<li><code>color</code></li>
					<li><code>url</code></li>
					<li><code>repeat</code></li>
					<li><code>attachment (very rarely used; may be omitted)</code></li>
					<li><code>horizontal-position</code></li>
					<li><code>vertical-position</code></li>
				</ol>				
			<p>An example of this shorthand with all the properties used (except <code>attachment</code>) is as follows:</p>
			
			<p><code>background: green url(logo.gif) no-repeat left top;</code></p></td>
		</tr>
	</table>
	
	<h2 id="buildingalert">Building an Alert message</h2>
	<p>Now I’ve gone through the basic syntax involved, I’ll walk you through building up a complete alert box example, which will demonstrate all the aspects of background images.</p>
	<h3>The design</h3>
	<p>Let’s say a graphic designer has provided a visual mock-up of the alert message you want to create for your web site. Looking at the alert you see that the background is light orange, setting it off from the surrounding paragraphs. It also has an alert icon ten pixels from the top left corner.</p>
	
	<p>Note that the mockup has one line of text, but it might contain more in the future. One of the most important skills of the web developer is to anticipate how a design will evolve. Part of respecting the artistic vision for a site is thinking about consistency from launch to redesign. So the alert message could contain more than one line of text, or even multiple paragraphs, lists, or other HTML elements. You should try to be as element agnostic as possible. This will increase the likelihood of code reuse, and set up the site to be as fast and efficient as it can be. The mockup looks like Figure 1.</p>
	
	<p><img src="../../../../devfiles.myopera.com/articles/481/alert_final.jpg" alt="final mock up" /></p>
	<p class="comment">Figure 1: The graphic designer’s mockup of our alert box.</p>
	
	<p>The designer has also provided the icon we are meant to use, as shown in Figure 2.</p>
	
	<p><img src="../../../../devfiles.myopera.com/articles/481/alert.png" alt="alert icon" style="border:solid 1px #E2e2e2;" /></p>
	<p class="comment">Figure 2: The alert icon.</p>
	
	<h3 id="thecode">The code</h3>
	<p>Based on what you have learned about CSS backgrounds in the first part of this article, you may already be thinking about how to build this alert message. I’d like to encourage you to have a go at it now, and then compare your work against my example.</p>
	
	<p>Ok—had a try? Now let’s go through it step by step. Each screen shot links to code examples, so you can check out the source at each stage. Experiment with the code, increase or decrease values, and try out alternatives. You may also want to follow along, writing each new line of code in a tool such as Opera Dragonfly or Firebug, so you can immediately see the results of each step.</p>

		<h4 id="createselector">Creating the CSS hook, or selector.</h4>
		<p>First you need to create a class <code>alert</code>, for the CSS to hook on to. Create new CSS and HTML skeleton files, link the CSS to the HTML file, and add the following code to them:</p>
			
<p>The CSS:</p>
<pre><code>.alert { ... }</code></pre>
<p>The HTML:</p>				
<pre><code>&lt;p class=&quot;alert&quot;&gt;
  &lt;strong&gt;Alert!&lt;/strong&gt; The text of our alert message goes here.
&lt;/p&gt;</code></pre>

		<p>Here I am styling the alert with a <code>class</code>, rather than an <code>id</code>, because I could have <em>more than one alert</em> in the page, for example a form element with several errors. You want to make your CSS as flexible as possible and  constrain things to correspond to the design when building the HTML. </p>
		<p>Ok, so you’ve put a solid foundation in place, but it still looks like an ordinary paragraph because you haven’t yet added any styles.  Lets do that next.</p>
		<p class="note">Note: I have intentionally chosen <em>not</em> to limit the class <code>alert</code> to paragraphs; alert boxes could easily contain other elements as well. You should leave as much flexibility as you can within your CSS.</p>

		<h4 id="addbackgroundcolor">Adding the background colour</h4>
		
		<p>You already learned about using <a href="../29-text-styling-with-css/index.html">background colour in text treatments</a> in Article 29, <i>Text styling with CSS</i>.  The same principles apply to any HTML element and can be combined with background images to create visual effects.  If the background colour has neither been set nor inherited, it is, by default, transparent.</p>
		
		<p>Let’s add the light orange background colour to the alert box to make it stand out from the text around it. You don’t want it to be too dark because it is important that you keep a reasonable level of <a href="http://www.w3.org/TR/2006/WD-WCAG20-20060427/guidelines.html#visual-audio-contrast">contrast between the text and the background colour</a>. Add the following property inside your CSS rule</p>
		
		<pre>.alert{<strong>background-color: #FFFFCC;</strong>}</pre>
		
		<p>The Alert box should now look more like Figure 3.</p>
		
		<p><a href="../../../../devfiles.myopera.com/articles/481/2_color.html"><img src="../../../../devfiles.myopera.com/articles/481/2_color.gif" alt="Code" title="Adding the background colour really helps the alert stand out. You may have noticed that I also added a small amount of space between the sides of the alert box and the text." /></a></p>
		<p class="comment">Figure 3: An alert box with background colour added.</p>

		<h4 id="applybackgroundimage">Applying the background image </h4>
		
		<p>Now let’s add the image to the alert. The path to the background image needs to be wrapped in <code>url()</code>, as shown in the code below. Add the highlighted line to the CSS rule.</p>
		
<pre>.alert{
  background-color: #FFFFCC;
  <strong>background-image: url(alert.png);</strong>
}</pre>
	<p>The alert box will now look like Figure 4.</p>
		<p><a href="../../../../devfiles.myopera.com/articles/481/3_image.html"><img src="../../../../devfiles.myopera.com/articles/481/3_image.gif" alt="code with background image" title="Ooh this is awful" /></a></p>
		<p class="comment">Figure 4: The background image has been added, but the tiling looks awful.</p>
		<p>Remember that each background property has a default value—if you haven’t specified a value, the default will be applied.  Of course, you will have noticed that the image is tiling over our entire alert,  much like mosaic tiles on a kitchen floor. What is the takeaway? Background images are set to repeat both horizontally and vertically by default. Repeating backgrounds are particularly useful for gradients and patterns that fill the screen or a particular HTML element, but that effect is <em>not</em> desired in this case.</p>

		<h4 id="controllingrepeat">Controlling background repeat</h4>

		<div style="float:left;width:350px;">
<img src="../../../../devfiles.myopera.com/articles/481/repeat.jpg" alt="Repeat horizontally and vertically" width="323" height="538" />
<p>Figure 5: Much like our background image, these tiles repeat both horizontally and vertically.</p>
</div>
		<p>Reading specifications can certainly be intimidating, but the specification is a really good place to figure out how CSS is <em>supposed to work</em> before you delve into the myriad browser differences.  Go take a look at the <a href="http://www.w3.org/TR/CSS21/colors.html">colors and backgrounds portion of the W3C Specification</a> and try to find the keyword to use when you don’t want a background image to be repeated. We’ll use that in our example below. </p>
		<p>Found it? Note that there is a section for each background property including <a href="http://www.w3.org/TR/CSS21/colors.html#propdef-background-repeat"><code>background-repeat</code></a>. Under <strong>Value</strong>, you’ll see all the possible choices including; <code>repeat</code>, <code>repeat-x</code>, <code>repeat-y</code>, <code>no-repeat</code>, and <code>inherit</code>.  By default (<strong>initial</strong>) background images are set to repeat. No direction is specified, which means that that the image will tile both horizontally and vertically.  You have most likely guessed that <strong><code>no-repeat</code></strong> is the value you are looking for to prevent the image from tiling in either direction. Add the following highlighted line to the CSS rule.</p>
<pre>.alert{
  background-color: #FFFFCC;
  background-image: url(alert.png);
  <strong>background-repeat: no-repeat;</strong>
}</pre>
	<p>The alert box will now look like Figure 6.</p>
	<p><a href="../../../../devfiles.myopera.com/articles/481/4_repeat.html"><img src="../../../../devfiles.myopera.com/articles/481/4_repeat.gif" alt="Code for Step 4 background repeat" title="Phew thats getting better" /></a></p>
	<p class="comment">Figure 6: The alert box, with a single copy of the background image (no tiling.)</p>
		
		<p>Additionally, you can choose to repeat in both directions (like kitchen tiles) or neither direction. Gradients often repeat horizontally or vertically (see Figure 7). You don’t need to know the size of the HTML element; you simply cut a slice from your gradient and set it to repeat in the direction you want; either x for horizontal, or y for vertical. Patterns often repeat in both directions, and icons usually do not repeat. You will explore <code>background-repeat</code> further in a later example.</p>
		
		<p><img src="../../../../devfiles.myopera.com/articles/481/repeat-x.jpg" alt="repeat-x example" /></p>
		<p class="comment">Figure 7: The greenish yellow tiles in this example repeat only horizontally.</p>

		<p>Let’s take a look at a practical example from my website—look at Figure 8.</p>
		<p><a href="http://www.stubbornella.org/content/"><img src="../../../../devfiles.myopera.com/articles/481/site_background.jpg" alt="A tiny image is tiled horizontally to create a three colour design across the top of my website." /></a></p>
		<p class="comment">Figure 8: A repeating example from my own web site.</p>
		<p>The CSS I used to add this decorative effect is relatively simple.  I made the background repeat horizontally using <code>repeat-x</code>:</p>
		
		<pre>body{background-repeat: <strong>repeat-x</strong>}</pre>
		
		<h4 id="attachment">Attachment</h4>
		
		<p><code>attachment</code> allows you to specify how the background behaves when the user scrolls down the page.  The default behaviour is <code>scroll</code>, which causes the background image to scroll along with the content.</p>
		<p>On the other hand, setting <code>background-attachment</code> to <code>fixed</code> causes the element to be stuck to the browser window, so it stays in the same place when the content inside the element it is attached to is scrolled.  This creates some odd effects, which will only be apparent when you scroll over the HTML element it is attached to. The W3C uses it to mark the status of their specifications, for example the <a href="http://www.w3.org/TR/CSS21/colors.html#propdef-background-repeat">&quot;W3C Candidate Recommendation&quot; image at top left</a>.  Scroll down the page and the image stays top left.  It is attached to the <code>body</code> element, so it is always visible.</p>
		
		<p>This step will have no effect on our display, because browsers set background images to scroll by default, but let’s add it to the code anyway so that you can see how the property is used. Add the highlighted line to the CSS rule:</p>
		
<pre>.alert{
  background-color: #FFFFCC;
  background-image: url(alert.png);
  background-repeat: no-repeat;
  <strong>background-attachment: scroll;</strong>
}</pre>

	<p>As shown in Figure 9, the visual display of the alert box is not much different to how it was  before.</p>
		<p><a href="../../../../devfiles.myopera.com/articles/481/5_attachment.html"><img src="../../../../devfiles.myopera.com/articles/481/5_attachment.gif" alt="Code for background attachment" title="Our alert box is looking pretty good now but it is still a little strange because the tiny background image is stuck to the upper left hand corner of our box" /></a></p>
		<p class="comment">Figure 9: Not much different here.</p>

		<h4 id="positioningtheimage">Positioning the image</h4>
		
		<p>Positioning is the fine tuning that lets you place your background image exactly where you want it to be, both horizontally and vertically, within the HTML element.  This property takes keyword and number values such as<code> top</code>, <code>center</code>, <code>right</code>, <code>100%</code>, <code>-10%</code>, <code>50px</code> and <code>-30em</code>.</p>
		<p>Figure 10 shows the values you might use to place your background images in different positions.</p>
		<p><img src="../../../../devfiles.myopera.com/articles/481/background_position.gif" alt="Examples of possible background positions" /></p>
		<p class="comment">Figure 10: Various examples of background position using keywords, percentages, and pixels.</p>
		
		<p>So let’s position the background image. You want it to be in the top left corner, but not touching the sides, so you need to offset it by 10 pixels from both the top and left—this can be done by adding the following highlighted line to the CSS rule. Do this now.</p>
		
<pre>.alert{
  background-color: #FFFFCC;
  background-image: url(alert.png);
  background-repeat: no-repeat;
  background-attachment: scroll;
  <strong>background-position: 10px 10px;</strong>
}</pre>
		<p>The first value is the horizontal offset, the second is the vertical.  In this case they are the same. Your alert box should now look like  Figure 11.</p>
		<p><a href="../../../../devfiles.myopera.com/articles/481/6_position.html"><img src="../../../../devfiles.myopera.com/articles/481/6_position.gif" alt="Code with background position" /></a></p>
		<p class="comment">Figure 11: Using positioning to place the background image.</p>
		
		<p class="note">Tip: Stick to either keywords or number values—older browsers may ignore your declaration if you use both at once.  Using <code>right</code> and <code>bottom</code> will achieve the same thing as <code>100%</code> horizontally or vertically, respectively.</p>

		<h4 id="usingshorthand">Using shorthand to pull the whole thing together like a pro</h4>
		
		<p>As you have already seen, certain CSS properties can be grouped together. Background and all of its sub properties are among them. The CSS code we’ve written so far can be rewritten in shortened form, as follows:</p>
		
		<pre>.alert{<strong>background: #FFFFCC url(alert.png) no-repeat scroll 10px 10px</strong>;}</pre>
		
		<p class="note">Tip: When grouping sub properties of <code>background</code>, always put the properties in the following order—this is important for both cross browser compatibility and stylesheet organisation and maintenance: </p>
		<ol>
			<li><code>color</code></li>
			<li><code>image</code></li>
			<li><code>repeat</code></li>
			<li><code>attachment</code></li>
			<li><code>horizontal</code> position</li>
			<li><code>vertical</code> position</li>
		</ol>
		<p>Try replacing the old CSS with the shorthand shown above, and your example should look exactly the same—see Figure 12.</p>
		<p><a href="../../../../devfiles.myopera.com/articles/481/7_finishedProduct.html"><img src="../../../../devfiles.myopera.com/articles/481/7_finishedProduct.gif" alt="Finished product" /></a></p>
		<p class="comment">Figure 12: The shorthand works like a charm!</p>
	
	<h3 id="experimenting">Experimenting with the code</h3>
	
	<p>The best way to remember all the nuances of CSS is to try out the options yourself—try changing some of the properties in the example, and see how that affects it. Set the <code>background-position</code> to <code>100% 100%</code>, and notice that it gives the same result as using the <code>right</code> and <code>bottom</code> keywords. What about if you change it to <code>-5px 0</code>? Why do you think you now can’t see part of the image?</p>
	
	<h3 id="qualitytesting">Testing for quality</h3>
	<p>Testing is extremely important to providing a good user experience. Just because the site looks good on your machine with your specific configuration doesn’t mean that it will look good for everyone. You should follow these basic minimum steps when testing your alert box.</p>
	
	<ul>
		<li>Increase or decrease the amount of text inside the alert.</li>
		<li>Increase the text size in your browser at least two levels. Would it have been better to use ems to position our image? Then what happens when you increase the text size?</li>
		<li>Apply the <code>class</code> alert to other elements such as <code>div</code>, <code>p</code>, <code>ul</code>, <code>strong</code>, or <code>em</code>. What do you need to change to make the class agnostic?</li>
		<li>Include several paragraphs and a list inside an alert <code>div</code>—does the code still work?</li>
		<li>Verify the alert visually in the <a href="http://www.bbc.co.uk/guidelines/futuremedia/technical/browser_support.shtml#support_table">Grade 1 browsers</a> (also known as A-grade). My advice is to write for good browsers and adapt for Internet Explorer once the code works.</li>
	</ul>
	<p>Rigorous testing is part of learning to write CSS. The more careful you are while learning, the faster you will become.</p>
	
	<h2 id="sprites">Sprites</h2>
	
	<p>Users want it all. They want your site to be glamorous, interactive, and also fast, however including large numbers of CSS background images can slow your site down considerably—the more HTTP requests you make, the slower your site will be (an HTTP request is when your computer is accessing a web site and needs to ask the server to send it another asset that makes up the site, such as a CSS file or image - each additional request means a longer loading time for the site). To get around this limitation, you can combine related icons into a single image, known as  <a href="http://www.alistapart.com/articles/sprites">CSS Sprites</a>. The <code>background-position</code> property allows you to then place the image in the appropriate positions so the icons display through the <em>window</em> of the HTML element the CSS sprites are attached to. </p>
	
	<p>For example in Figure 13, you will see that to display the  earth icon through the HTML window you can place the image using <code>left top</code>. To move the position of the image so the alert icon is displayed, the background position needs to be changed to <code>-80px 0</code>. The negative horizontal value pulls the image to the left.</p>
	
	<p><img src="../../../../devfiles.myopera.com/articles/481/sprite_650.gif" alt="Only the part of the background image which is inside the HTML element is visible" /></p>
	<p class="comment">Figure 13: Using CSS Sprites to reduce HTTP requests.</p>
	<p>Note: If you use negative background positions, Safari will repeat your image, even if you’ve specified <code>no-repeat</code>. This is something to keep in mind as you start playing with background images to create more complicated layouts.</p>
	
	<h3 id="complexspriteexample">A complex sprite and background image example</h3>
	
	<p>Let’s have a look at how CSS sprites can be used to good effect. Suppose our friendly designer sent us an new mockup. This one is for a list of links on the landing page of a blog. It points to the bloggers’ LinkedIn profile, RSS feed, Flickr photos, and  bookmarks. Looking at each link, we realize that there is a gradient starting in the center as white and going to gray at the top and bottom of the link, and to further complicate things the designer asked if we could make each link plain white with no curve when visitors hover over the link—check out Figure 14.</p>
	<p><img src="../../../../devfiles.myopera.com/articles/481/List.gif" alt="List mockup" width="186" height="188" /></p>
	<p class="comment">Figure 14: The new design mockup.</p>
	<p>The logos could be included using <code>img</code> elements in the markup, however using CSS sprites is a much better way to go—the sprites load faster as only one image needs to be loaded (not four), and it declutters your HTML, reducing the amount of markup needed.</p>
	
	<h4 id="creatingthesprite">Creating the Sprite</h4>
	
	<p>The first step is to cut out the four logos and create the sprite set, as seen in Figure 15.</p>
	<p><img src="../../../../devfiles.myopera.com/articles/481/sprite_logo.gif" alt="logos sprite" width="66" height="16" /></p>
	<p class="comment">Figure 15: The sprite set.</p>
	
	<p>You also need to cut out a 1 pixel wide slice of our gradient. For the sake of visibility, I have cut out a slightly larger slice, but you only need one pixel—see Figure 16.</p>
	
	<p><img src="../../../../devfiles.myopera.com/articles/481/sprite_gradient_bkg.jpg" alt="gradient bkg" width="16" height="46" /></p>
	<p class="comment">Figure 16: The slice for our gradient background.</p>
	
	<p>The HTML for the list is an unordered list containing links. Note the empty <code>span</code> elements inside the links. It is very important not to have fixed <code>height</code> and <code>width</code> on elements that contain text—after all, you have no idea how large the text will be. What happens if the site gets translated to German? You can use these extra spans to display the logos. As an alternative, you may decide that you don’t want to have extraneous non-semantic markup cluttering up your HTML. In this case you will need to use a larger sprite and leave white space between the icons. Keep in mind that this will be slower for users on slow connections, especially those on mobile phones. The code for the list looks like so—add this to an HTML template:</p>
	
<pre>&lt;ul class=&quot;navigation&quot;&gt;
  &lt;li id=&quot;resume&quot;&gt;
    &lt;a href=&quot;#&quot;&gt;&lt;span&gt;&lt;/span&gt;Resume&lt;/a&gt;
  &lt;/li&gt;
  &lt;li id=&quot;rss&quot;&gt;
    &lt;a href=&quot;#&quot;&gt;&lt;span&gt;&lt;/span&gt;RSS Feed&lt;/a&gt;
  &lt;/li&gt;
  &lt;li id=&quot;photos&quot;&gt;
    &lt;a href=&quot;#&quot;&gt;&lt;span&gt;&lt;/span&gt;Photos&lt;/a&gt;
  &lt;/li&gt;<br />
  &lt;li id=&quot;links&quot;&gt;
    &lt;a href=&quot;#&quot;&gt;&lt;span&gt;&lt;/span&gt;Links&lt;/a&gt;
  &lt;/li&gt;
&lt;/ul&gt;</pre>
	
	<p>The CSS makes use of both background images. First, take a look at the gradient background image.  There are three interesting things to note about it:</p>
	<ol>
		<li>The first is that the image repeats horizontally (<code>repeat-x</code>.)  This is how we are able to make such a small image spread across the entire list.</li>
		<li>The second is that the image is centred vertically.  You want the round bit of the image to appear in the middle of the list item, so you should use a background position of <code>left center</code>. </li>
		<li>Finally, in the CSS I’ve applied a background colour that is the same grey as the grey in our gradient image.  In this way, if the element grows, it won’t look broken. For more information about this kind of technique I recommend <a href="http://www.simplebits.com/publications/bulletproof/"><em>Bulletproof Web Design</em></a> by Dan Cederholm.</li>
	</ol>	
		
   <p>Add the following CSS to a new CSS file, and link it to the HTML file:</p>
	
<pre>.navigation, .navigation li {
  margin:0; 
  padding:0;
}

.navigation li {
  border-top: 1px solid white;
  list-style-type:none;
}

.navigation li a {
  background: <strong>#E2E2E2</strong> url(sprite_gradient_bkg.jpg) <strong>repeat-x</strong> left center; 
  padding:20px; 
  display:block ;
  font-family: Arial, Helvetica, sans-serif;
  color:#333; 
  font-size:18px; 
  text-decoration:none;
}

/* hover effects */

.navigation li a:hover,, .navigation li a:focus {
  <strong>background: transparent none;</strong>
}</pre>

<p>The last line means that the element should have no background colour or image when the user hovers using the mouse, or focuses using the keyboard. Perhaps you are wondering why I applied the background properties to the link rather than the list item? The answer is that Internet Explorer 6 and earlier do not support pseudo classes like <code>hover</code> on elements other than links.  I’ve made the adjustment to accommodate this constraint. </p>

<p>Next you can create the CSS for the little logos. As usual, you can start by defining the most general case for all <code>span</code> elements within your navigation module. It is here that you define the image to be used by all spans, the repeat, and the background position (each is different, so lets use the first). You can use shorthand for this rule. Note that I’m using CSS comments to divide sections of our code into manageable chunks. Add the following code to the bottom of the CSS file:</p>

<pre>/* general case */

.navigation span {
  <strong>background:url (sprite_logo.gif) no-repeat left top;</strong>
  height:15px;
  width: 15px; 
  margin-right:20px;
  display:-moz-inline-box; 
  display:inline--block;
  vertical-align: middle;
}</pre>

<p>With the general case well in hand, you can now define the exceptions, or <em>what is different </em> about each specific logo.  In this case, the only CSS that changes is the <code>background-position</code>. Each respective list item needs to have the image pulled 15 pixels more to the left, because each of the logos are 15 pixels wide. Add the following to the bottom of the CSS file:</p>

<pre>/* exceptions */

#rss span {
  <strong>background-position: -15px 0;</strong>
}

#photos span {
  <strong>background-position: -30px 0;</strong>
}

#links span {
  <strong>background-position: -45px 0;</strong>
}</pre>

	<p>This example might seem intimidating at first. Keep your focus on the background images. In this case, I’ve used negative pixel values to pull the background image left so that the relevant part of the image is seen. Positive values push the background image down and right, negative values pull the image up and left.</p>
	
	<p>Play with the background position values in the <a href="../../../../devfiles.myopera.com/articles/481/sprite.html">finished example</a>, to better understand how to adjust sprite positioning.</p>
	
	<h2 id="summary">Summary</h2>
	<p>You should now understand CSS background images, and what’s more, you are becoming more comfortable reading specifications, so if you have doubts about a particular property, you should know how to go look it up. This article covered background colour, image, repeat, attachment, and position. You also learned why developers use CSS Sprites, and how to use this advanced technique.</p>
	
	<h3 id="imagecredits">Image credits</h3>
	<ul>
		<li><a href="http://www.flickr.com/photos/dimsumdarren/1342305614/">The Tiles</a>, by DimsumDarren</li>
		<li><a href="http://www.flickr.com/photos/emdot/6099842/">little glass tiles</a>, by emdot</li>
	</ul>

	<h2 id="exercises">Exercise Questions</h2>
	<ul>
		<li>A paragraph is 40px by 180px and your background image is 60px by 200px. Will you see the entire image or only part of it? Why?</li>
		<li><p>You want an image to be positioned in the bottom left corner of the <code>blockquote</code> element—please fill in the correct values.</p>
			<pre>blockquote{background: yellow url(quote.png) no-repeat scroll ____ ____ ;}</pre></li>
		<li>Say you wanted each <code>h2</code> in your document with a <code>class</code> of &quot;question&quot; to have a gradient pattern applied. Would you use <code>repeat-x</code>, <code>repeat-y</code>, <code>no-repeat</code>, or <code>repeat</code> to achieve something similar to the example below? Why?
			<h2 class="question"><img src="../../../../devfiles.myopera.com/articles/481/exampleHeading.gif" alt="Example Heading" width="596" height="66" /></h2></li>
		<li>What would be the background position of the example in question number 3? How could you creatively use a background colour to be sure the background could expand to any height? Why is this important?</li>
		<li>What shorthand can you use to remove all background properties?</li>
		<li>What is the purpose of CSS sprites?</li>
	</ul>
	
	<h2 id="furtherreading">Further reading</h2>
	<ul>
		<li><a href="http://developer.yahoo.com/performance/rules.html#num_http">Performance and HTTP requests on YDN</a></li>
		<li><a href="http://www.w3.org/TR/REC-CSS2/colors.html">CSS2 Specification—Colors and Backgrounds</a></li>
		<li><a href="http://www.alistapart.com/articles/sprites">CSS Sprites—Image Slicing’s Kiss of Death</a></li>
		<li><a href="http://www.simplebits.com/publications/bulletproof/">Bulletproof Web Design</a>—My favourite book</li>
	</ul>
	
<ul class="seriesNav">
<li class="prev"><a href="../30-the-css-layout-model-boxes-border/index.html" rel="prev" title="link to the previous article in the series">Previous article—The CSS layout model—boxes, borders, margins, padding</a></li>
<li class="next"><a href="../32-styling-lists-and-links/index.html" rel="next" title="link to the next article in the series">Next article—Styling lists and links</a></li>
<li><a href="../1-introduction-to-the-web-standards-cur/index.html#toc" rel="index">Table of contents</a></li>
</ul>

<h2>About the author</h2>

<p><img alt="Picture of the article author Nicole Sullivan" src="../../../../devfiles.myopera.com/articles/481/nicolesullivan.jpg" class="right" /></p>

<p>Nicole Sullivan is a CSS performance guru living in California. She began her professional career in 2000, when her future husband (then a W3C employee) told her that if her website didn’t validate he wouldn’t be able to sleep at night. She thought she’d better figure out what this “validator” thing was all about, and a love for standards was born.</p>

<p>As her appreciation for performance and large-scale sites grew, she went on to work in the online marketing business, building CSS framework solutions for many well known European and worldwide brands such as SFR, Club Med, SNCF, La Poste, FNAC, Accor Hotels, and Renault.</p>

<p>Nicole now works for Yahoo! in the Exceptional Performance group. Her role involves researching and evangelising performance best practices and building tools like YSlow that help other F2E’s create better sites. She writes about standards, her dog, and her obsession with object oriented CSS at <a href="http://www.stubbornella.org">www.stubbornella.org</a>.</p>

      <p id="license" class="info">This article is licensed under a <a href="http://creativecommons.org/licenses/by-nc-sa/2.5/" rel="license">Creative Commons Attribution, Non Commercial - Share Alike 2.5</a> license.</p>

    </article>
<section id="comments">
  <h2>Comments</h2>
      <p class="info">The forum archive of this article is still available on <a href="http://my.opera.com/community/forums/topic.dml?id=251076">My Opera</a>.</p>
  <ul>
  </ul>
No new comments accepted.
</section>

  </section>

  <aside>
    <section class="info">
      <p class="author"><strong>Author</strong> <a href="../../../author/stubbornella.html" rel="author">Nicole Sullivan</a></p>
      <p>
        <strong>Date</strong>
        Friday, September 26, 2008
      </p>

      <p class="tags"><strong>Tags</strong></p>
      <ul class="tags">
        <li><a href="../../tags/attach.html" rel="tag">attach</a></li>
        <li><a href="../../tags/position.html" rel="tag">position</a></li>
        <li><a href="../../tags/repeat.html" rel="tag">repeat</a></li>
        <li><a href="../../tags/sprite.html" rel="tag">sprite</a></li>
        <li><a href="../../tags/test.html" rel="tag">test</a></li>
      </ul>
    </section>
  </aside>




</section>
<script type="text/javascript" src="../../../../static.myopera.com/dev/js/highlight.pack.js"></script>
<script type="text/javascript">hljs.initHighlightingOnLoad();</script>

    <footer>
      <section role="contentinfo">
        <ul>
          <li><a href="../../../help.html">Help/<abbr>FAQ</abbr></a>
          <li><a href="http://my.opera.com/community/terms-of-service/?utm_source=devopera&amp;utm_medium=footer&amp;utm_campaign=devlinks">Terms of service</a>
          <li><a href="../../../privacy.html">Privacy</a>
        </ul>
      </section>
    </footer>
  </body>
</html>
